{"time":"2023-11-09 21:09:05","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-09 21:09:05"}
{"time":"2023-11-09 21:09:22","level":"WARN","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":111},"msg":"[消息处理]，用户在线","rpcAddr":"127.0.0.1:9092"}
{"time":"2023-11-09 21:09:22","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":118},"msg":"[Send]， 发送本地消息给用户 ","receiverId":2}
{"time":"2023-11-09 21:10:05","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-09 21:10:05"}
{"time":"2023-11-09 21:10:53","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:60184: use of closed network connection"}
{"time":"2023-11-09 21:10:53","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:60193[WebSocket Writer exit!]"}
{"time":"2023-11-09 21:10:53","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:60184[WebSocket Writer exit!]"}
{"time":"2023-11-09 21:10:53","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:60193: use of closed network connection"}
{"time":"2023-11-09 21:10:53","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-09 21:10:53","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:60184[conn Reader exit!]"}
{"time":"2023-11-09 21:10:53","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-09 21:10:53","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:60193[conn Reader exit!]"}
{"time":"2023-11-09 21:11:27","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-09 21:11:27","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-09 21:11:27","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-09 21:11:45","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-09 21:11:45","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-09 21:12:08","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-09 21:12:08","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-09 21:12:12","level":"WARN","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":111},"msg":"[消息处理]，用户在线","rpcAddr":"127.0.0.1:9092"}
{"time":"2023-11-09 21:12:12","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":118},"msg":"[Send]， 发送本地消息给用户 ","receiverId":1}
{"time":"2023-11-09 21:12:27","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-09 21:12:27"}
{"time":"2023-11-09 21:13:16","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:60778: use of closed network connection"}
{"time":"2023-11-09 21:13:16","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:60700: use of closed network connection"}
{"time":"2023-11-09 21:13:16","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:60778[WebSocket Writer exit!]"}
{"time":"2023-11-09 21:13:16","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:60700[WebSocket Writer exit!]"}
{"time":"2023-11-09 21:13:16","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-09 21:13:16","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:60700[conn Reader exit!]"}
{"time":"2023-11-09 21:13:16","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-09 21:13:16","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:60778[conn Reader exit!]"}
{"time":"2023-11-09 21:13:24","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-09 21:13:24","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-09 21:13:24","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-09 21:14:24","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-09 21:14:24"}
{"time":"2023-11-09 21:14:44","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-09 21:14:44","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-09 21:14:44","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-09 21:14:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-09 21:14:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-09 21:14:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-09 21:14:58","level":"WARN","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":111},"msg":"[消息处理]，用户在线","rpcAddr":"127.0.0.1:9092"}
{"time":"2023-11-09 21:14:58","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":118},"msg":"[Send]， 发送本地消息给用户 ","receiverId":1}
{"time":"2023-11-09 21:54:41","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-09 21:54:41","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-09 21:54:41","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-09 21:54:41","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":27},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-09 21:55:41","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-09 21:55:41"}
{"time":"2023-11-09 21:56:41","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-09 21:56:41"}
{"time":"2023-11-09 21:56:54","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-09 21:56:54","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-09 21:56:54","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-09 21:56:54","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:51520: use of closed network connection"}
{"time":"2023-11-09 21:56:54","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":0}
{"time":"2023-11-09 21:56:54","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:51520[conn Reader exit!]"}
{"time":"2023-11-09 21:56:54","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:51520[WebSocket Writer exit!]"}
{"time":"2023-11-09 21:56:54","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:51520[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-09 21:57:41","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-09 21:57:41"}
{"time":"2023-11-09 21:58:07","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-09 21:58:07","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-09 21:58:07","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-09 21:58:07","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":27},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-09 21:58:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-09 21:58:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-09 21:58:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-09 21:58:41","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-09 21:58:41","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-09 21:58:41","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-09 21:58:47","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":111},"msg":"[消息处理]，用户在线","rpcAddr":"127.0.0.1:9092"}
{"time":"2023-11-09 21:58:47","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":118},"msg":"[Send]， 发送本地消息给用户 ","receiverId":1}
{"time":"2023-11-09 21:59:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-09 21:59:07"}
{"time":"2023-11-09 22:00:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-09 22:00:07"}
{"time":"2023-11-09 22:01:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-09 22:01:07"}
{"time":"2023-11-09 22:02:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-09 22:02:07"}
{"time":"2023-11-09 22:02:22","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:51883: use of closed network connection"}
{"time":"2023-11-09 22:02:22","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:51861: use of closed network connection"}
{"time":"2023-11-09 22:02:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:51861[WebSocket Writer exit!]"}
{"time":"2023-11-09 22:02:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:51883[WebSocket Writer exit!]"}
{"time":"2023-11-09 22:02:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:51861[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-09 22:02:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-09 22:02:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-09 22:02:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:51883[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-09 22:02:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:51883[conn Reader exit!]"}
{"time":"2023-11-09 22:02:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:51861[conn Reader exit!]"}
