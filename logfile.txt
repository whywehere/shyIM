{"time":"2023-11-19 15:05:14","level":"ERROR","source":{"function":"shyIM/service/ws.SendToUser","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":67},"msg":"kafka: client has run out of available brokers to talk to: dial tcp 127.0.0.1:9092: connectex: No connection could be made because the target machine actively refused it."}
{"time":"2023-11-19 15:05:14","level":"ERROR","source":{"function":"shyIM/service/ws.SendToUser","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":67},"msg":"circuit breaker is open"}
{"time":"2023-11-19 15:05:14","level":"ERROR","source":{"function":"shyIM/service/ws.SendToUser","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":67},"msg":"circuit breaker is open"}
{"time":"2023-11-19 15:05:14","level":"ERROR","source":{"function":"shyIM/service/ws.SendToUser","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":67},"msg":"circuit breaker is open"}
{"time":"2023-11-19 15:05:14","level":"ERROR","source":{"function":"shyIM/service/ws.SendToUser","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":67},"msg":"circuit breaker is open"}
{"time":"2023-11-19 15:05:14","level":"ERROR","source":{"function":"shyIM/service/ws.SendToUser","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":67},"msg":"circuit breaker is open"}
{"time":"2023-11-19 15:05:18","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:05:18"}
{"time":"2023-11-19 15:06:18","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:06:18"}
{"time":"2023-11-19 15:07:18","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:07:18"}
{"time":"2023-11-19 15:07:27","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:49815: use of closed network connection"}
{"time":"2023-11-19 15:07:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:49815[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-19 15:07:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-19 15:07:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:49815[conn Reader exit!]"}
{"time":"2023-11-19 15:07:31","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:07:31","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:07:31","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:07:32","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-19 15:07:58","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-19 15:08:15","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-19 15:08:31","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:08:31"}
{"time":"2023-11-19 15:09:31","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:09:31"}
{"time":"2023-11-19 15:10:31","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:10:31"}
{"time":"2023-11-19 15:10:55","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:53661: use of closed network connection"}
{"time":"2023-11-19 15:10:55","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:53677: use of closed network connection"}
{"time":"2023-11-19 15:10:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:53661[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-19 15:10:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:53677[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-19 15:10:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-19 15:10:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-19 15:10:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:53677[conn Reader exit!]"}
{"time":"2023-11-19 15:10:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:53661[conn Reader exit!]"}
{"time":"2023-11-19 15:15:08","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:15:08","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:15:08","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:15:08","level":"ERROR","source":{"function":"shyIM/pkg/kafka.(*Conn).ConsumeMessage.func1","file":"C:/Users/19406/Desktop/go/shyIM/pkg/kafka/message.go","line":30},"msg":"consumer consume failed","err":"context canceled"}
{"time":"2023-11-19 15:15:08","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-19 15:15:21","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-19 15:15:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-19 15:16:08","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:16:08"}
{"time":"2023-11-19 15:17:08","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:17:08"}
{"time":"2023-11-19 15:17:45","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:54683: use of closed network connection"}
{"time":"2023-11-19 15:17:45","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:54683[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-19 15:17:45","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:54703: use of closed network connection"}
{"time":"2023-11-19 15:17:45","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:54703[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-19 15:17:45","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-19 15:17:45","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:54703[conn Reader exit!]"}
{"time":"2023-11-19 15:17:45","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-19 15:17:45","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:54683[conn Reader exit!]"}
{"time":"2023-11-19 15:18:04","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:18:04","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:18:04","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:18:04","level":"ERROR","source":{"function":"shyIM/pkg/kafka.(*Conn).ConsumeMessage.func1","file":"C:/Users/19406/Desktop/go/shyIM/pkg/kafka/message.go","line":31},"msg":"consumer consume failed","err":"context canceled"}
{"time":"2023-11-19 15:18:04","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-19 15:18:18","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-19 15:18:32","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-19 15:19:04","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:19:04"}
{"time":"2023-11-19 15:20:04","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:20:04"}
{"time":"2023-11-19 15:21:04","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:21:04"}
{"time":"2023-11-19 15:21:25","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:55023: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-19 15:21:25","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:55023[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-19 15:21:25","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-19 15:21:25","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:55023[conn Reader exit!]"}
{"time":"2023-11-19 15:21:27","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:55043: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-19 15:21:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:55043[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-19 15:21:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-19 15:21:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:55043[conn Reader exit!]"}
{"time":"2023-11-19 15:21:56","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:21:56","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:21:56","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:21:56","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-19 15:22:10","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-19 15:22:23","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-19 15:22:26","level":"ERROR","source":{"function":"shyIM/pkg/kafka.(*Conn).ConsumeMessage.func1","file":"C:/Users/19406/Desktop/go/shyIM/pkg/kafka/message.go","line":30},"msg":"consumer consume failed","err":"read tcp 172.22.48.1:55538->172.22.48.1:9092: i/o timeout"}
{"time":"2023-11-19 15:22:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:22:56"}
{"time":"2023-11-19 15:23:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:23:56"}
{"time":"2023-11-19 15:24:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:24:56"}
{"time":"2023-11-19 15:25:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:25:56"}
{"time":"2023-11-19 15:26:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:26:56"}
{"time":"2023-11-19 15:27:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:27:56"}
{"time":"2023-11-19 15:28:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:28:56"}
{"time":"2023-11-19 15:29:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:29:56"}
{"time":"2023-11-19 15:30:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:30:56"}
{"time":"2023-11-19 15:31:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:31:56"}
{"time":"2023-11-19 15:32:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:32:56"}
{"time":"2023-11-19 15:33:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:33:56"}
{"time":"2023-11-19 15:34:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:34:56"}
{"time":"2023-11-19 15:35:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:35:56"}
{"time":"2023-11-19 15:36:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:36:56"}
{"time":"2023-11-19 15:37:20","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:55570: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-19 15:37:20","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:55570[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-19 15:37:20","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-19 15:37:20","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:55570[conn Reader exit!]"}
{"time":"2023-11-19 15:37:21","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:55556: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-19 15:37:21","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:55556[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-19 15:37:21","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-19 15:37:21","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:55556[conn Reader exit!]"}
{"time":"2023-11-19 15:37:57","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:37:57","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:37:57","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:39:17","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:39:17","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:39:17","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:39:33","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:39:33","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:39:33","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:39:57","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:39:57","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:39:57","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:40:23","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:40:23","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:40:23","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:40:50","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:40:50","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:40:50","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:41:32","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:41:32","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:41:32","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:41:46","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:41:46","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:41:46","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:43:19","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:43:19","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:43:19","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:44:27","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:44:27","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:44:27","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:44:39","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:44:39","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:44:39","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:46:13","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:46:13","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:46:13","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:46:13","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-19 15:46:34","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-19 15:46:34","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-19 15:46:34","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-19 15:46:34","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-19 15:47:34","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:47:34"}
{"time":"2023-11-19 15:48:24","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-19 15:48:34","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:48:34"}
{"time":"2023-11-19 15:48:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-19 15:49:34","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:49:34"}
{"time":"2023-11-19 15:50:34","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-19 15:50:34"}
{"time":"2023-11-19 15:51:28","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:59778: use of closed network connection"}
{"time":"2023-11-19 15:51:28","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:59778[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-19 15:51:28","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:59792: use of closed network connection"}
{"time":"2023-11-19 15:51:28","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:59792[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-19 15:51:28","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-19 15:51:28","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:59792[conn Reader exit!]"}
{"time":"2023-11-19 15:51:28","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-19 15:51:28","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:59778[conn Reader exit!]"}
