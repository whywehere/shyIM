{"time":"2023-11-10 17:29:05","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 17:29:05","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 17:29:05","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 17:29:05","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 17:29:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 17:29:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 17:29:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 17:30:05","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 17:30:05"}
{"time":"2023-11-10 17:31:05","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 17:31:05"}
{"time":"2023-11-10 17:32:05","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 17:32:05"}
{"time":"2023-11-10 17:32:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 17:32:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 17:32:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 17:32:34","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":110},"msg":"[消息处理]，用户在线","rpcAddr":"127.0.0.1:9092"}
{"time":"2023-11-10 17:32:34","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":117},"msg":"[Send]， 发送本地消息给用户 ","receiverId":1}
{"time":"2023-11-10 17:33:05","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 17:33:05"}
{"time":"2023-11-10 17:33:17","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:49716: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-10 17:33:17","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:49716[WebSocket Writer exit!]"}
{"time":"2023-11-10 17:33:17","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-10 17:33:17","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:49716[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 17:33:17","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:49716[conn Reader exit!]"}
{"time":"2023-11-10 17:33:18","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:50115: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-10 17:33:18","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:50115[WebSocket Writer exit!]"}
{"time":"2023-11-10 17:33:18","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-10 17:33:18","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:50115[conn Reader exit!]"}
{"time":"2023-11-10 17:33:18","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:50115[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 17:54:57","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 17:54:57","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 17:54:57","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 17:54:57","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 17:55:13","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 17:55:13","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 17:55:13","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 17:55:37","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 17:55:37","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 17:55:37","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 17:55:51","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:55502: use of closed network connection"}
{"time":"2023-11-10 17:55:51","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:55502[WebSocket Writer exit!]"}
{"time":"2023-11-10 17:55:51","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:55430[WebSocket Writer exit!]"}
{"time":"2023-11-10 17:55:51","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:55430: use of closed network connection"}
{"time":"2023-11-10 17:55:51","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-10 17:55:51","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-10 17:55:51","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:55502[conn Reader exit!]"}
{"time":"2023-11-10 17:55:51","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:55430[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 17:55:51","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:55502[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 17:55:51","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:55430[conn Reader exit!]"}
{"time":"2023-11-10 18:05:49","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 18:05:49","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 18:05:49","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 18:05:50","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 18:06:04","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 18:06:04","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 18:06:04","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 18:06:26","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 18:06:26","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 18:06:26","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 18:06:34","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:56893: use of closed network connection"}
{"time":"2023-11-10 18:06:34","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:56841: use of closed network connection"}
{"time":"2023-11-10 18:06:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:56841[WebSocket Writer exit!]"}
{"time":"2023-11-10 18:06:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:56893[WebSocket Writer exit!]"}
{"time":"2023-11-10 18:06:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-10 18:06:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-10 18:06:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:56841[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 18:06:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:56893[conn Reader exit!]"}
{"time":"2023-11-10 18:06:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:56893[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 18:06:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:56841[conn Reader exit!]"}
{"time":"2023-11-10 18:10:07","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 18:10:07","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 18:10:07","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 18:10:07","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 18:10:39","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 18:10:39","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 18:10:39","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 18:10:57","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 18:10:57","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 18:10:57","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 18:11:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 18:11:07"}
{"time":"2023-11-10 18:12:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 18:12:07"}
{"time":"2023-11-10 18:13:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 18:13:07"}
{"time":"2023-11-10 18:14:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 18:14:07"}
{"time":"2023-11-10 18:15:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 18:15:07"}
{"time":"2023-11-10 18:16:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 18:16:07"}
{"time":"2023-11-10 18:16:37","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:57424: use of closed network connection"}
{"time":"2023-11-10 18:16:37","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:57424[WebSocket Writer exit!]"}
{"time":"2023-11-10 18:16:37","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:57407: use of closed network connection"}
{"time":"2023-11-10 18:16:37","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:57407[WebSocket Writer exit!]"}
{"time":"2023-11-10 18:16:37","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-10 18:16:37","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-10 18:16:37","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:57424[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 18:16:37","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:57407[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 18:16:37","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:57407[conn Reader exit!]"}
{"time":"2023-11-10 18:16:37","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:57424[conn Reader exit!]"}
{"time":"2023-11-10 19:59:17","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 19:59:17","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 19:59:17","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 19:59:18","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 19:59:40","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 19:59:40","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 19:59:40","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 20:00:33","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:00:33"}
{"time":"2023-11-10 20:00:33","level":"ERROR","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":73},"msg":"client.Revoke()","err":"etcdserver: requested lease not found"}
{"time":"2023-11-10 20:00:33","level":"INFO","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":75},"msg":"撤销租约成功, leaseID:7587874571724639537, Put key:/wsServers/127.0.0.1:9092,val:127.0.0.1:9092\n"}
{"time":"2023-11-10 20:00:46","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:62190[WebSocket Writer exit!]"}
{"time":"2023-11-10 20:00:46","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:62190: use of closed network connection"}
{"time":"2023-11-10 20:00:46","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-10 20:00:46","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:62190[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 20:00:46","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:62190[conn Reader exit!]"}
{"time":"2023-11-10 20:01:04","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 20:01:04","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 20:01:04","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 20:01:04","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 20:01:14","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 20:01:14","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 20:01:14","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 20:02:34","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:02:34"}
{"time":"2023-11-10 20:03:08","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:03:06"}
{"time":"2023-11-10 20:03:08","level":"ERROR","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":73},"msg":"client.Revoke()","err":"etcdserver: requested lease not found"}
{"time":"2023-11-10 20:03:08","level":"INFO","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":75},"msg":"撤销租约成功, leaseID:7587874571724639543, Put key:/wsServers/127.0.0.1:9092,val:127.0.0.1:9092\n"}
{"time":"2023-11-10 20:03:11","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:62387: use of closed network connection"}
{"time":"2023-11-10 20:03:11","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:62387[WebSocket Writer exit!]"}
{"time":"2023-11-10 20:03:11","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-10 20:03:11","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:62387[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 20:03:11","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:62387[conn Reader exit!]"}
{"time":"2023-11-10 20:16:07","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 20:16:07","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 20:16:07","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 20:16:07","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 20:16:30","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 20:16:30","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 20:16:30","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 20:17:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:17:07"}
{"time":"2023-11-10 20:18:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:18:07"}
{"time":"2023-11-10 20:19:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:19:07"}
{"time":"2023-11-10 20:20:06","level":"WARN","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":107},"msg":"[消息处理]，用户不在线","receiverId":2}
{"time":"2023-11-10 20:20:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:20:07"}
{"time":"2023-11-10 20:21:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:21:07"}
{"time":"2023-11-10 20:22:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:22:07"}
{"time":"2023-11-10 20:22:23","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:65321: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-10 20:22:23","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:65321[WebSocket Writer exit!]"}
{"time":"2023-11-10 20:22:23","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-10 20:22:23","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:65321[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 20:22:23","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:65321[conn Reader exit!]"}
{"time":"2023-11-10 20:22:32","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":168},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 20:22:32","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":59},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 20:22:32","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":146},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 20:22:39","level":"WARN","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":107},"msg":"[消息处理]，用户不在线","receiverId":2}
{"time":"2023-11-10 20:23:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:23:07"}
{"time":"2023-11-10 20:24:07","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:24:07"}
{"time":"2023-11-10 20:24:52","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":67},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:54586: use of closed network connection"}
{"time":"2023-11-10 20:24:52","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":160},"msg":"127.0.0.1:54586[WebSocket Writer exit!]"}
{"time":"2023-11-10 20:24:52","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":206},"msg":"127.0.0.1:54586[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 20:24:52","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":236},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-10 20:24:52","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"127.0.0.1:54586[conn Reader exit!]"}
{"time":"2023-11-10 20:24:59","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 20:24:59","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 20:24:59","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 20:25:00","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 20:25:16","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 20:25:16","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":169},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 20:25:16","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 20:26:05","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 20:26:05","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 20:26:05","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 20:26:05","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 20:26:19","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":169},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 20:26:19","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 20:26:19","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 20:26:19","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:55233: use of closed network connection"}
{"time":"2023-11-10 20:26:19","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":0}
{"time":"2023-11-10 20:26:19","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:55233[conn Reader exit!]"}
{"time":"2023-11-10 20:26:19","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":207},"msg":"127.0.0.1:55233[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 20:26:19","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:55233[WebSocket Writer exit!]"}
{"time":"2023-11-10 20:27:05","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:27:05"}
{"time":"2023-11-10 20:27:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 20:27:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":169},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 20:27:27","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 20:27:33","level":"WARN","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":107},"msg":"[消息处理]，用户不在线","receiverId":2}
{"time":"2023-11-10 20:28:05","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:28:05"}
{"time":"2023-11-10 20:28:23","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:55578: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-10 20:28:23","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:55578[WebSocket Writer exit!]"}
{"time":"2023-11-10 20:28:23","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-10 20:28:23","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:55578[conn Reader exit!]"}
{"time":"2023-11-10 20:28:23","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":207},"msg":"127.0.0.1:55578[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 20:29:05","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:29:05"}
{"time":"2023-11-10 20:30:15","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 20:30:15","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 20:30:15","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 20:30:15","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 20:30:25","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 20:30:25","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 20:30:25","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 20:30:25","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 20:30:38","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 20:30:38","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 20:30:38","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":169},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-10 20:30:43","level":"WARN","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":107},"msg":"[消息处理]，用户不在线","receiverId":2}
{"time":"2023-11-10 20:31:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:31:25"}
{"time":"2023-11-10 20:32:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:32:25"}
{"time":"2023-11-10 20:33:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:33:25"}
{"time":"2023-11-10 20:34:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:34:25"}
{"time":"2023-11-10 20:35:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:35:25"}
{"time":"2023-11-10 20:36:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:36:25"}
{"time":"2023-11-10 20:37:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:37:25"}
{"time":"2023-11-10 20:38:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:38:25"}
{"time":"2023-11-10 20:39:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:39:25"}
{"time":"2023-11-10 20:40:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:40:25"}
{"time":"2023-11-10 20:41:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:41:25"}
{"time":"2023-11-10 20:42:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:42:25"}
{"time":"2023-11-10 20:43:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":45},"msg":"[heartbeat check started]","Time":"2023-11-10 20:43:25"}
{"time":"2023-11-10 20:44:10","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:56121: use of closed network connection"}
{"time":"2023-11-10 20:44:10","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:56121[WebSocket Writer exit!]"}
{"time":"2023-11-10 20:44:10","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-10 20:44:10","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":207},"msg":"127.0.0.1:56121[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-10 20:44:10","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:56121[conn Reader exit!]"}
{"time":"2023-11-10 21:36:56","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-10 21:36:56","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-10 21:36:56","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-10 21:36:56","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":28},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-10 21:37:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:37:56"}
{"time":"2023-11-10 21:38:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:38:56"}
{"time":"2023-11-10 21:39:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:39:56"}
{"time":"2023-11-10 21:40:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:40:56"}
{"time":"2023-11-10 21:41:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:41:56"}
{"time":"2023-11-10 21:42:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:42:56"}
{"time":"2023-11-10 21:43:30","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-10 21:43:30","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-10 21:43:37","level":"WARN","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":107},"msg":"[消息处理]，用户不在线","receiverId":2}
{"time":"2023-11-10 21:43:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:43:56"}
{"time":"2023-11-10 21:44:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:44:56"}
{"time":"2023-11-10 21:45:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:45:56"}
{"time":"2023-11-10 21:46:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:46:56"}
{"time":"2023-11-10 21:47:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:47:56"}
{"time":"2023-11-10 21:48:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:48:56"}
{"time":"2023-11-10 21:49:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:49:56"}
{"time":"2023-11-10 21:50:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:50:56"}
{"time":"2023-11-10 21:51:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:51:56"}
{"time":"2023-11-10 21:52:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:52:56"}
{"time":"2023-11-10 21:53:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:53:56"}
{"time":"2023-11-10 21:54:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:54:56"}
{"time":"2023-11-10 21:55:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:55:56"}
{"time":"2023-11-10 21:56:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:56:56"}
{"time":"2023-11-10 21:57:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:57:56"}
{"time":"2023-11-10 21:58:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:58:56"}
{"time":"2023-11-10 21:59:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 21:59:56"}
{"time":"2023-11-10 22:00:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:00:56"}
{"time":"2023-11-10 22:01:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:01:56"}
{"time":"2023-11-10 22:02:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:02:56"}
{"time":"2023-11-10 22:03:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:03:56"}
{"time":"2023-11-10 22:04:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:04:56"}
{"time":"2023-11-10 22:05:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:05:56"}
{"time":"2023-11-10 22:06:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:06:56"}
{"time":"2023-11-10 22:07:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:07:56"}
{"time":"2023-11-10 22:08:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:08:56"}
{"time":"2023-11-10 22:09:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:09:56"}
{"time":"2023-11-10 22:10:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:10:56"}
{"time":"2023-11-10 22:11:56","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-10 22:11:56"}
{"time":"2023-11-10 22:12:08","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"websocket ReadMessage failed","[ERROR]":"read tcp 127.0.0.1:9091->127.0.0.1:51998: use of closed network connection"}
{"time":"2023-11-10 22:12:08","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:51998[WebSocket Writer exit!]"}
{"time":"2023-11-10 22:12:08","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-10 22:12:08","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:51998[conn Reader exit!]"}
{"time":"2023-11-11 21:39:38","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-11 21:39:38","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-11 21:39:38","level":"ERROR","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":34},"msg":"Failed to connect to redis ","[ERROR]":"dial tcp 127.0.0.1:6379: connectex: No connection could be made because the target machine actively refused it."}
{"time":"2023-11-17 12:35:49","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 12:35:49","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 12:35:49","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 12:36:32","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 12:36:32","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 12:36:32","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 12:36:33","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 12:36:49","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 12:36:49","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 12:37:33","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:37:33"}
{"time":"2023-11-17 12:37:36","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 12:37:36","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 12:37:47","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":117},"msg":"[Send]， 发送本地消息给用户 ","receiverId":2}
{"time":"2023-11-17 12:38:33","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:38:33"}
{"time":"2023-11-17 12:39:32","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:39:32"}
{"time":"2023-11-17 12:40:32","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:40:32"}
{"time":"2023-11-17 12:41:20","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:54860: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-17 12:41:20","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:54860[WebSocket Writer exit!]"}
{"time":"2023-11-17 12:41:20","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 12:41:20","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:54860[conn Reader exit!]"}
{"time":"2023-11-17 12:41:21","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:54901: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-17 12:41:21","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:54901[WebSocket Writer exit!]"}
{"time":"2023-11-17 12:41:21","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-17 12:41:21","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:54901[conn Reader exit!]"}
{"time":"2023-11-17 12:41:35","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 12:41:35","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 12:41:35","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 12:41:35","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 12:41:45","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 12:41:45","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 12:42:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:42:35"}
{"time":"2023-11-17 12:43:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:43:35"}
{"time":"2023-11-17 12:44:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:44:35"}
{"time":"2023-11-17 12:45:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:45:35"}
{"time":"2023-11-17 12:46:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:46:35"}
{"time":"2023-11-17 12:47:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:47:35"}
{"time":"2023-11-17 12:48:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:48:35"}
{"time":"2023-11-17 12:49:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:49:35"}
{"time":"2023-11-17 12:50:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:50:35"}
{"time":"2023-11-17 12:51:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:51:35"}
{"time":"2023-11-17 12:52:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:52:35"}
{"time":"2023-11-17 12:53:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:53:35"}
{"time":"2023-11-17 12:54:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:54:35"}
{"time":"2023-11-17 12:55:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:55:35"}
{"time":"2023-11-17 12:56:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:56:35"}
{"time":"2023-11-17 12:57:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:57:35"}
{"time":"2023-11-17 12:58:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:58:35"}
{"time":"2023-11-17 12:59:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 12:59:35"}
{"time":"2023-11-17 13:00:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:00:35"}
{"time":"2023-11-17 13:01:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:01:35"}
{"time":"2023-11-17 13:02:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:02:35"}
{"time":"2023-11-17 13:03:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:03:35"}
{"time":"2023-11-17 13:04:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:04:35"}
{"time":"2023-11-17 13:05:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:05:35"}
{"time":"2023-11-17 13:06:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:06:35"}
{"time":"2023-11-17 13:07:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:07:35"}
{"time":"2023-11-17 13:08:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:08:35"}
{"time":"2023-11-17 13:09:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:09:35"}
{"time":"2023-11-17 13:10:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:10:35"}
{"time":"2023-11-17 13:11:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:11:35"}
{"time":"2023-11-17 13:23:44","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:23:44"}
{"time":"2023-11-17 13:23:45","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:55311: use of closed network connection"}
{"time":"2023-11-17 13:23:45","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:55311[WebSocket Writer exit!]"}
{"time":"2023-11-17 13:23:46","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 13:23:46","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:55311[conn Reader exit!]"}
{"time":"2023-11-17 13:23:46","level":"ERROR","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":73},"msg":"client.Revoke()","err":"etcdserver: requested lease not found"}
{"time":"2023-11-17 13:23:46","level":"INFO","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":75},"msg":"撤销租约成功, leaseID:7587874722160510984, Put key:/wsServers/127.0.0.1:9092,val:127.0.0.1:9092\n"}
{"time":"2023-11-17 13:24:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:24:35"}
{"time":"2023-11-17 13:25:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:25:35"}
{"time":"2023-11-17 13:26:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:26:35"}
{"time":"2023-11-17 13:27:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:27:35"}
{"time":"2023-11-17 13:28:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:28:35"}
{"time":"2023-11-17 13:29:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:29:35"}
{"time":"2023-11-17 13:30:35","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:30:35"}
{"time":"2023-11-17 13:30:48","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 13:30:48","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 13:30:48","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 13:30:48","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 13:31:12","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 13:31:12","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 13:31:48","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:31:48"}
{"time":"2023-11-17 13:32:48","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:32:48"}
{"time":"2023-11-17 13:33:29","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:56502: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-17 13:33:29","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:56502[WebSocket Writer exit!]"}
{"time":"2023-11-17 13:33:29","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 13:33:29","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:56502[conn Reader exit!]"}
{"time":"2023-11-17 13:47:57","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 13:47:57","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 13:47:57","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 13:47:57","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 13:48:12","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 13:48:12","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 13:48:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:48:57"}
{"time":"2023-11-17 13:49:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:49:57"}
{"time":"2023-11-17 13:50:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:50:57"}
{"time":"2023-11-17 13:51:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:51:57"}
{"time":"2023-11-17 13:52:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:52:57"}
{"time":"2023-11-17 13:53:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:53:57"}
{"time":"2023-11-17 13:54:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:54:57"}
{"time":"2023-11-17 13:55:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:55:57"}
{"time":"2023-11-17 13:56:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:56:57"}
{"time":"2023-11-17 13:57:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:57:57"}
{"time":"2023-11-17 13:58:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:58:57"}
{"time":"2023-11-17 13:59:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 13:59:57"}
{"time":"2023-11-17 14:00:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:00:57"}
{"time":"2023-11-17 14:01:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:01:57"}
{"time":"2023-11-17 14:02:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:02:57"}
{"time":"2023-11-17 14:03:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:03:57"}
{"time":"2023-11-17 14:04:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:04:57"}
{"time":"2023-11-17 14:05:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:05:57"}
{"time":"2023-11-17 14:06:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:06:57"}
{"time":"2023-11-17 14:07:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:07:57"}
{"time":"2023-11-17 14:08:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:08:57"}
{"time":"2023-11-17 14:09:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:09:57"}
{"time":"2023-11-17 14:10:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:10:57"}
{"time":"2023-11-17 14:11:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:11:57"}
{"time":"2023-11-17 14:12:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:12:57"}
{"time":"2023-11-17 14:13:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:13:57"}
{"time":"2023-11-17 14:14:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:14:57"}
{"time":"2023-11-17 14:15:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:15:57"}
{"time":"2023-11-17 14:16:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:16:57"}
{"time":"2023-11-17 14:17:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:17:57"}
{"time":"2023-11-17 14:18:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 14:18:57"}
{"time":"2023-11-17 15:54:22","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 15:54:22"}
{"time":"2023-11-17 15:54:22","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:55249: use of closed network connection"}
{"time":"2023-11-17 15:54:22","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:55249[WebSocket Writer exit!]"}
{"time":"2023-11-17 15:54:24","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 15:54:24","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:55249[conn Reader exit!]"}
{"time":"2023-11-17 15:54:24","level":"ERROR","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":73},"msg":"client.Revoke()","err":"etcdserver: requested lease not found"}
{"time":"2023-11-17 15:54:24","level":"INFO","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":75},"msg":"撤销租约成功, leaseID:7587874722160510996, Put key:/wsServers/127.0.0.1:9092,val:127.0.0.1:9092\n"}
{"time":"2023-11-17 15:54:57","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 15:54:57"}
{"time":"2023-11-17 15:55:49","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 15:55:49","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 15:55:49","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 15:55:50","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 15:56:06","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 15:56:06","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 15:56:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 15:56:49"}
{"time":"2023-11-17 15:57:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 15:57:49"}
{"time":"2023-11-17 15:58:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 15:58:49"}
{"time":"2023-11-17 15:59:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 15:59:49"}
{"time":"2023-11-17 16:00:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:00:49"}
{"time":"2023-11-17 16:01:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:01:49"}
{"time":"2023-11-17 16:02:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:02:49"}
{"time":"2023-11-17 16:03:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:03:49"}
{"time":"2023-11-17 16:04:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:04:49"}
{"time":"2023-11-17 16:05:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:05:49"}
{"time":"2023-11-17 16:06:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:06:49"}
{"time":"2023-11-17 16:07:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:07:49"}
{"time":"2023-11-17 16:08:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:08:49"}
{"time":"2023-11-17 16:09:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:09:49"}
{"time":"2023-11-17 16:10:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:10:49"}
{"time":"2023-11-17 16:11:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:11:49"}
{"time":"2023-11-17 16:12:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:12:49"}
{"time":"2023-11-17 16:13:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:13:49"}
{"time":"2023-11-17 16:14:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:14:49"}
{"time":"2023-11-17 16:15:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:15:49"}
{"time":"2023-11-17 16:16:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:16:49"}
{"time":"2023-11-17 16:17:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:17:49"}
{"time":"2023-11-17 16:18:49","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:18:49"}
{"time":"2023-11-17 16:19:48","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:49516: use of closed network connection"}
{"time":"2023-11-17 16:19:48","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:49516[WebSocket Writer exit!]"}
{"time":"2023-11-17 16:19:48","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 16:19:48","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:49516[conn Reader exit!]"}
{"time":"2023-11-17 16:20:19","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 16:20:19","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 16:20:19","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 16:20:19","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 16:21:19","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:21:19"}
{"time":"2023-11-17 16:21:42","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 16:21:42","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 16:22:22","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:22:22"}
{"time":"2023-11-17 16:22:48","level":"ERROR","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":73},"msg":"client.Revoke()","err":"etcdserver: requested lease not found"}
{"time":"2023-11-17 16:22:48","level":"INFO","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":75},"msg":"撤销租约成功, leaseID:7587874722160511007, Put key:/wsServers/127.0.0.1:9092,val:127.0.0.1:9092\n"}
{"time":"2023-11-17 16:32:20","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:32:16"}
{"time":"2023-11-17 16:32:25","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:32:24"}
{"time":"2023-11-17 16:33:26","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:33:26"}
{"time":"2023-11-17 16:34:27","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:34:27"}
{"time":"2023-11-17 16:34:31","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:59914[WebSocket Writer exit!]"}
{"time":"2023-11-17 16:34:31","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:59914: use of closed network connection"}
{"time":"2023-11-17 16:34:31","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 16:34:31","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:59914[conn Reader exit!]"}
{"time":"2023-11-17 16:51:37","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 16:51:37","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 16:51:37","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 16:51:37","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 16:52:37","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:52:37"}
{"time":"2023-11-17 16:52:44","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 16:52:44","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 16:53:24","level":"ERROR","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":73},"msg":"client.Revoke()","err":"etcdserver: requested lease not found"}
{"time":"2023-11-17 16:53:24","level":"INFO","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":75},"msg":"撤销租约成功, leaseID:7587874722160511013, Put key:/wsServers/127.0.0.1:9092,val:127.0.0.1:9092\n"}
{"time":"2023-11-17 16:53:31","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:62764[WebSocket Writer exit!]"}
{"time":"2023-11-17 16:53:31","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:62764: use of closed network connection"}
{"time":"2023-11-17 16:53:31","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 16:53:31","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:62764[conn Reader exit!]"}
{"time":"2023-11-17 16:53:49","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 16:53:49","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 16:53:49","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 16:53:49","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 16:54:02","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 16:54:02","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 16:54:39","level":"ERROR","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":73},"msg":"client.Revoke()","err":"etcdserver: requested lease not found"}
{"time":"2023-11-17 16:54:39","level":"INFO","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":75},"msg":"撤销租约成功, leaseID:7587874722160511019, Put key:/wsServers/127.0.0.1:9092,val:127.0.0.1:9092\n"}
{"time":"2023-11-17 16:54:40","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:62862: use of closed network connection"}
{"time":"2023-11-17 16:54:40","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:62862[WebSocket Writer exit!]"}
{"time":"2023-11-17 16:54:40","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 16:54:40","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:62862[conn Reader exit!]"}
{"time":"2023-11-17 16:55:58","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 16:55:58","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 16:55:58","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 16:55:58","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 16:56:20","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 16:56:20","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 16:57:39","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 16:57:39"}
{"time":"2023-11-17 16:57:50","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:63123: use of closed network connection"}
{"time":"2023-11-17 16:57:50","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:63123[WebSocket Writer exit!]"}
{"time":"2023-11-17 16:57:50","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 16:57:50","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:63123[conn Reader exit!]"}
{"time":"2023-11-17 16:57:50","level":"ERROR","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":73},"msg":"client.Revoke()","err":"etcdserver: requested lease not found"}
{"time":"2023-11-17 16:57:50","level":"INFO","source":{"function":"shyIM/pkg/etcd.(*Registry).close","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/registry.go","line":75},"msg":"撤销租约成功, leaseID:7587874722160511025, Put key:/wsServers/127.0.0.1:9092,val:127.0.0.1:9092\n"}
{"time":"2023-11-17 17:00:29","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 17:00:29","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 17:00:29","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 17:00:29","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 17:00:43","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 17:00:43","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 17:01:26","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 17:01:26","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 17:01:29","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:01:29"}
{"time":"2023-11-17 17:01:34","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":117},"msg":"[Send]， 发送本地消息给用户 ","receiverId":1}
{"time":"2023-11-17 17:01:34","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":117},"msg":"[Send]， 发送本地消息给用户 ","receiverId":1}
{"time":"2023-11-17 17:01:34","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":117},"msg":"[Send]， 发送本地消息给用户 ","receiverId":1}
{"time":"2023-11-17 17:01:34","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":117},"msg":"[Send]， 发送本地消息给用户 ","receiverId":1}
{"time":"2023-11-17 17:01:34","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":117},"msg":"[Send]， 发送本地消息给用户 ","receiverId":1}
{"time":"2023-11-17 17:01:34","level":"INFO","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":117},"msg":"[Send]， 发送本地消息给用户 ","receiverId":1}
{"time":"2023-11-17 17:02:29","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:02:29"}
{"time":"2023-11-17 17:03:29","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:03:29"}
{"time":"2023-11-17 17:04:29","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:04:29"}
{"time":"2023-11-17 17:05:29","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:05:29"}
{"time":"2023-11-17 17:05:59","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:63636: use of closed network connection"}
{"time":"2023-11-17 17:05:59","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:63602[WebSocket Writer exit!]"}
{"time":"2023-11-17 17:05:59","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:63636[WebSocket Writer exit!]"}
{"time":"2023-11-17 17:05:59","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:63602: use of closed network connection"}
{"time":"2023-11-17 17:05:59","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 17:05:59","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:63602[conn Reader exit!]"}
{"time":"2023-11-17 17:05:59","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-17 17:05:59","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:63636[conn Reader exit!]"}
{"time":"2023-11-17 17:06:06","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 17:06:06","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 17:06:06","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 17:06:06","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 17:06:17","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 17:06:17","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 17:06:29","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 17:06:29","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 17:06:29","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:64282: use of closed network connection"}
{"time":"2023-11-17 17:06:29","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:64282[WebSocket Writer exit!]"}
{"time":"2023-11-17 17:06:29","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":0}
{"time":"2023-11-17 17:06:29","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:64282[conn Reader exit!]"}
{"time":"2023-11-17 17:06:51","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 17:06:51","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":147},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 17:07:06","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:07:06"}
{"time":"2023-11-17 17:08:06","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:08:06"}
{"time":"2023-11-17 17:09:06","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:09:06"}
{"time":"2023-11-17 17:10:06","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:10:06"}
{"time":"2023-11-17 17:10:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:64398[WebSocket Writer exit!]"}
{"time":"2023-11-17 17:10:34","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:64398: use of closed network connection"}
{"time":"2023-11-17 17:10:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":161},"msg":"127.0.0.1:64265[WebSocket Writer exit!]"}
{"time":"2023-11-17 17:10:34","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":68},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:64265: use of closed network connection"}
{"time":"2023-11-17 17:10:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-17 17:10:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:64398[conn Reader exit!]"}
{"time":"2023-11-17 17:10:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":237},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 17:10:34","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"127.0.0.1:64265[conn Reader exit!]"}
{"time":"2023-11-17 17:15:40","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 17:15:40","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 17:15:40","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 17:15:40","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 17:16:40","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:16:40"}
{"time":"2023-11-17 17:17:40","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:17:40"}
{"time":"2023-11-17 17:17:58","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 17:17:58","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 17:17:58","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 17:17:58","level":"ERROR","source":{"function":"shyIM/router.HTTPRouter","file":"C:/Users/19406/Desktop/go/shyIM/router/router.go","line":34},"msg":"gin engine run error","[ERROR]":"listen tcp :8081: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted."}
{"time":"2023-11-17 17:17:59","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 17:18:40","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:18:40"}
{"time":"2023-11-17 17:18:58","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:18:58"}
{"time":"2023-11-17 17:19:40","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:19:40"}
{"time":"2023-11-17 17:19:44","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":148},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 17:19:44","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 17:19:58","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:19:58"}
{"time":"2023-11-17 17:20:04","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":148},"msg":"[WebSocket Writer Goroutine is running]"}
{"time":"2023-11-17 17:20:04","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 17:20:12","level":"ERROR","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":131},"msg":"[Send] DeliverMessage Failed","[ERROR]":"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:9092: connectex: No connection could be made because the target machine actively refused it.\""}
{"time":"2023-11-17 17:20:12","level":"ERROR","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":131},"msg":"[Send] DeliverMessage Failed","[ERROR]":"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:9092: connectex: No connection could be made because the target machine actively refused it.\""}
{"time":"2023-11-17 17:20:12","level":"ERROR","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":131},"msg":"[Send] DeliverMessage Failed","[ERROR]":"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:9092: connectex: No connection could be made because the target machine actively refused it.\""}
{"time":"2023-11-17 17:20:12","level":"ERROR","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":131},"msg":"[Send] DeliverMessage Failed","[ERROR]":"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:9092: connectex: No connection could be made because the target machine actively refused it.\""}
{"time":"2023-11-17 17:20:12","level":"ERROR","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":131},"msg":"[Send] DeliverMessage Failed","[ERROR]":"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:9092: connectex: No connection could be made because the target machine actively refused it.\""}
{"time":"2023-11-17 17:20:12","level":"ERROR","source":{"function":"shyIM/service/ws.Send","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/message.go","line":131},"msg":"[Send] DeliverMessage Failed","[ERROR]":"rpc error: code = Unavailable desc = connection error: desc = \"transport: Error while dialing: dial tcp 127.0.0.1:9092: connectex: No connection could be made because the target machine actively refused it.\""}
{"time":"2023-11-17 17:20:40","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:20:40"}
{"time":"2023-11-17 17:20:58","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:20:58"}
{"time":"2023-11-17 17:21:40","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:21:40"}
{"time":"2023-11-17 17:21:58","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:21:58"}
{"time":"2023-11-17 17:22:40","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:22:40"}
{"time":"2023-11-17 17:22:58","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:22:58"}
{"time":"2023-11-17 17:23:40","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:23:40"}
{"time":"2023-11-17 17:23:58","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:23:58"}
{"time":"2023-11-17 17:24:40","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:24:40"}
{"time":"2023-11-17 17:24:54","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9093->127.0.0.1:49334: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-17 17:24:54","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":162},"msg":"127.0.0.1:49334[WebSocket Writer exit!]"}
{"time":"2023-11-17 17:24:54","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":238},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-17 17:24:54","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":70},"msg":"127.0.0.1:49334[conn Reader exit!]"}
{"time":"2023-11-17 17:24:55","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:49307: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-17 17:24:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriter","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":162},"msg":"127.0.0.1:49307[WebSocket Writer exit!]"}
{"time":"2023-11-17 17:24:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":238},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 17:24:55","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":70},"msg":"127.0.0.1:49307[conn Reader exit!]"}
{"time":"2023-11-17 17:24:58","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:24:58"}
{"time":"2023-11-17 17:29:41","level":"INFO","source":{"function":"shyIM/pkg/logger.init.0","file":"C:/Users/19406/Desktop/go/shyIM/pkg/logger/logger.go","line":29},"msg":"Slog initialized"}
{"time":"2023-11-17 17:29:41","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":23},"msg":"Initializing mysql successfully"}
{"time":"2023-11-17 17:29:41","level":"INFO","source":{"function":"shyIM/pkg/db.InitDB","file":"C:/Users/19406/Desktop/go/shyIM/pkg/db/db.go","line":37},"msg":"Initializing redis successfully"}
{"time":"2023-11-17 17:29:41","level":"INFO","source":{"function":"shyIM/pkg/etcd.NewDiscovery","file":"C:/Users/19406/Desktop/go/shyIM/pkg/etcd/discovery.go","line":29},"msg":"Creating Discovery succeeded"}
{"time":"2023-11-17 17:30:18","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 17:30:18","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":170},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-17 17:30:41","level":"INFO","source":{"function":"shyIM/service/ws.(*HeartbeatChecker).check","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/heartbeat.go","line":46},"msg":"[heartbeat check started]","Time":"2023-11-17 17:30:41"}
{"time":"2023-11-17 17:30:53","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":60},"msg":"[Reader Goroutine is running]"}
{"time":"2023-11-17 17:30:53","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":170},"msg":"[WebSocket WriterWithBuffer Goroutine is running]"}
{"time":"2023-11-17 17:31:12","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:50567: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-17 17:31:12","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":208},"msg":"127.0.0.1:50567[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-17 17:31:12","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":238},"msg":"Conn is closed","UserId":1}
{"time":"2023-11-17 17:31:12","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":70},"msg":"127.0.0.1:50567[conn Reader exit!]"}
{"time":"2023-11-17 17:31:14","level":"ERROR","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":69},"msg":"[websocket ReadMessage Failed]","err":"read tcp 127.0.0.1:9091->127.0.0.1:50604: wsarecv: An existing connection was forcibly closed by the remote host."}
{"time":"2023-11-17 17:31:14","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartWriterWithBuffer","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":208},"msg":"127.0.0.1:50604[WebSocket WriterWithBuffer exit!]"}
{"time":"2023-11-17 17:31:14","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).Stop","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":238},"msg":"Conn is closed","UserId":2}
{"time":"2023-11-17 17:31:14","level":"INFO","source":{"function":"shyIM/service/ws.(*Conn).StartReader","file":"C:/Users/19406/Desktop/go/shyIM/service/ws/conn.go","line":70},"msg":"127.0.0.1:50604[conn Reader exit!]"}
